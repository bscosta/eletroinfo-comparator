<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<head th:include="~{layout/layout :: header (title='Fornecedor')}">
    <th:block layout:fragment="head-end">
        <link th:href="@{/stylesheets/vendors/bootstrap-tabs-x/bootstrap-tabs-x.css}" rel="stylesheet" />
    </th:block>
</head>
<body>

<section layout:fragment="conteudo">

    <div class="page-header">
        <div class="container-fluid">
            <div class="row">
                <div class="col-xs-10">
                    <h1 th:if="${provider.novo}" th:text="#{titulo.cadastro.fornecedor}"></h1>
                    <h1 th:unless="${provider.novo}" th:text="#{titulo.editar.fornecedor} + ': ' + ${provider.name}"></h1>
                </div>
                <div class="col-xs-2" th:unless="${provider.novo}">
                    <div class="aw-page-header-controls">
                        <a class="btn btn-primary" th:href="@{/fornecedor/novo}">
                            <i class="fa  fa-plus-circle"></i> <span class="hidden-xs  hidden-sm" th:text="#{novo}"></span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <form method="post" th:object="${provider}" th:action="${provider.novo} ? @{/fornecedor/novo} :
								@{/fornecedor/{id}(id=${provider.id})}" class="form-vertical  js-form-loading">
            <div th:replace="layout/fragments/message :: messages"></div>
            <input type="hidden" th:field="*{id}" />
            <div class="tabs-x tabs-above">
                <ul id="tab-vendedor" class="nav nav-tabs" role="tablist">
                    <li th:classappend="!${provider.updateContact} and !${provider.updateAddress} ? active"><a href="#dados-pessoais" role="tab" data-toggle="tab"><i
                            class="glyphicon glyphicon-user"></i><span th:text="' ' + #{dados}"></span></a></li>
                    <li th:classappend="${provider.updateAddress} ? active" th:unless="${provider.novo}"><a href="#enderecos" role="tab-kv" data-toggle="tab"><i class="glyphicon glyphicon-globe"></i>
                        <span th:text="' ' + #{enderecos}"></span></a></li>
                    <li th:classappend="${provider.updateContact} ? active" th:unless="${provider.novo}"><a href="#contatos" role="tab-kv" data-toggle="tab"><i class="glyphicon glyphicon-phone"></i>
                        <span th:text="' ' + #{contatos}"></span></a></li>
                </ul>
                <div id="tab-vendedor-content" class="tab-content">
                    <div class="tab-pane fade in" th:classappend="!${provider.updateContact} and !${provider.updateAddress} ? active" id="dados-pessoais">
                        <div class="row">
                            <div class="col-sm-12 form-group">
                                <label for="name" th:text="#{nome}"></label>
                                <input type="text" class="form-control" th:field="*{name}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <button class="btn  btn-primary" type="submit" name="save" th:text="#{salvar}"></button>
                            <a th:href="@{/fornecedor}" class="btn  btn-default" th:text="#{voltar}"></a>
                        </div>
                    </div>
                    <div th:unless="${provider.novo}" class="tab-pane fade in" th:classappend="${provider.updateAddress} ? active" id="enderecos">
                        <th:block th:each="addresses,rowStat : *{#numbers.sequence(addresses.size() - 1, 0, -1)}">
                            <input th:if="*{addresses[__${rowStat.index}__].id}" type="hidden" th:field="*{addresses[__${rowStat.index}__].id}">
                            <input th:if="*{addresses[__${rowStat.index}__].id}" type="hidden" th:field="*{addresses[__${rowStat.index}__].typeAddress}">
                            <input th:if="*{addresses[__${rowStat.index}__].id}" type="hidden" th:field="*{addresses[__${rowStat.index}__].typePlace}">
                            <input th:if="*{addresses[__${rowStat.index}__].id}" type="hidden" th:field="*{addresses[__${rowStat.index}__].address}">
                            <input th:if="*{addresses[__${rowStat.index}__].id}" type="hidden" th:field="*{addresses[__${rowStat.index}__].number}">
                            <input th:if="*{addresses[__${rowStat.index}__].id}" type="hidden" th:field="*{addresses[__${rowStat.index}__].neighborhood}">
                            <input th:if="*{addresses[__${rowStat.index}__].id}" type="hidden" th:field="*{addresses[__${rowStat.index}__].complement}">
                            <input th:if="*{addresses[__${rowStat.index}__].id}" type="hidden" th:field="*{addresses[__${rowStat.index}__].cep}">
                            <input th:if="*{addresses[__${rowStat.index}__].id}" type="hidden" th:field="*{addresses[__${rowStat.index}__].city}">
                            <input th:if="*{addresses[__${rowStat.index}__].id}" type="hidden" th:field="*{addresses[__${rowStat.index}__].uf}">
                        </th:block>
                        <div class="row">
                            <div class="col-sm-2 form-group">
                                <label for="typeAddress" class="control-label" th:text="#{tipo.endereco}"></label>
                                <select class="form-control" th:field="*{addresses[__${sizeAddresses}__].typeAddress}">
                                    <option value="">Selecione</option>
                                    <option th:text="#{pessoal}" th:value="Pessoal"></option>
                                    <option th:text="#{comercial}" th:value="Comercial"></option>
                                </select>
                            </div>
                            <div class="col-sm-2 form-group">
                                <label for="typePlace" class="control-label" th:text="#{tipo.logradouro}"></label>
                                <select class="form-control" th:field="*{addresses[__${sizeAddresses}__].typePlace}">
                                    <option value="">Selecione</option>
                                    <option th:text="#{rua}" th:value="RUA"></option>
                                    <option th:text="#{avenida}" th:value="AVENIDA"></option>
                                    <option th:text="#{travessa}" th:value="TRAVESSA"></option>
                                </select>
                            </div>
                            <div class="col-sm-3 form-group">
                                <label th:text="#{endereco}"></label>
                                <input type="text" class="form-control" th:field="*{addresses[__${sizeAddresses}__].address}"/>
                            </div>
                            <div class="col-sm-2 form-group">
                                <label th:text="#{numero}"></label>
                                <input type="number" class="form-control" th:field="*{addresses[__${sizeAddresses}__].number}"/>
                            </div>
                            <div class="col-sm-3 form-group">
                                <label th:text="#{bairro}"></label>
                                <input type="text" class="form-control" th:field="*{addresses[__${sizeAddresses}__].neighborhood}"/>
                            </div>
                            <div class="col-sm-4 form-group">
                                <label th:text="#{complemento}"></label>
                                <input type="text" class="form-control" th:field="*{addresses[__${sizeAddresses}__].complement}"/>
                            </div>
                            <div class="col-sm-2 form-group">
                                <label th:text="#{cep}"></label>
                                <input type="text" class="form-control" th:field="*{addresses[__${sizeAddresses}__].cep}"/>
                            </div>
                            <div class="col-sm-4 form-group">
                                <label th:text="#{cidade}"></label>
                                <input type="text" class="form-control" th:field="*{addresses[__${sizeAddresses}__].city}"/>
                            </div>
                            <div class="col-sm-2 form-group">
                                <label for="uf" class="control-label" th:text="#{uf}"></label>
                                <select class="form-control" th:field="*{addresses[__${sizeAddresses}__].uf}">
                                    <option value="" th:text="#{selecione}"></option>
                                    <option th:each="uf : ${ufs}" th:value="${uf}" th:text="#{${uf.descricao}}">Adocicada</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <button class="btn  btn-primary" type="submit" th:text="#{adicionar}" name="addAddress"></button>
                            <a th:href="@{/fornecedor}" class="btn  btn-default" th:text="#{voltar}"></a>
                        </div>
                        <div class="table-responsive pc-tabela-simples">
                            <table class="table table-hover">
                                <thead>
                                <tr>
                                    <th class="table-projetos-col-nome" th:text="#{tipo.endereco}"></th>
                                    <th class="table-projetos-col-dataInicio" th:text="#{endereco}"></th>
                                    <th class="table-projetos-col-dataInicio" th:text="#{numero}"></th>
                                    <th class="table-projetos-col-dataInicio" th:text="#{bairro}"></th>
                                    <th class="table-projetos-col-dataInicio" th:text="#{cidade}"></th>
                                    <th class="table-projetos-col-dataInicio" th:text="#{cep}"></th>
                                    <th class="table-projetos-col-dataInicio" th:text="#{uf}"></th>
                                </tr>
                                </thead>

                                <tbody>
                                <tr th:if="${address.id}" th:each="address : ${provider.addresses}">
                                    <td th:text="${address.typeAddress}"></td>
                                    <td th:text="${address.typePlace} + ' ' + ${address.address}"></td>
                                    <td th:text="${address.number}"></td>
                                    <td th:text="${address.neighborhood}"></td>
                                    <td th:text="${address.city}"></td>
                                    <td th:text="${address.cep}"></td>
                                    <td th:text="${address.uf}"></td>
                                    <td class="text-center">
                                        <!--<a class="btn  btn-link  btn-xs js-tooltip" th:title="#{editar}" th:href="@{/vendedor/{id}(id=${seller.id})}">
                                            <i class="glyphicon glyphicon-pencil"></i>
                                        </a>-->
                                        <button th:value="${address.id}" name="delAddress"
                                                class="btn  btn-link  btn-xs js-tooltip js-exclusao-btn" th:title=#{deletar}>
                                            <i class="glyphicon glyphicon-remove"></i> <span class="icon-name"></span>
                                        </button>
                                    </td>
                                    <!--</tr>
                                    <tr>
                                        <td colspan="4">Nenhum usuário encontrado</td>
                                    </tr>-->
                                </tbody>
                            </table>
                            <!--<div th:replace="layout/fragments/pagination :: pagination"></div>-->
                        </div>


                    </div>
                    <div th:unless="${provider.novo}" class="tab-pane fade in" th:classappend="${provider.updateContact} ? active" id="contatos">
                        <th:block th:each="contacts,rowStat : *{#numbers.sequence(contacts.size() - 1, 0, -1)}">
                            <input th:if="*{contacts[__${rowStat.index}__].id}" type="hidden" th:field="*{contacts[__${rowStat.index}__].id}">
                            <input th:if="*{contacts[__${rowStat.index}__].id}" type="hidden" th:field="*{contacts[__${rowStat.index}__].typeContact}">
                            <input th:if="*{contacts[__${rowStat.index}__].id}" type="hidden" th:field="*{contacts[__${rowStat.index}__].name}">
                            <input th:if="*{contacts[__${rowStat.index}__].id}" type="hidden" th:field="*{contacts[__${rowStat.index}__].formContact}">
                            <input th:if="*{contacts[__${rowStat.index}__].id}" type="hidden" th:field="*{contacts[__${rowStat.index}__].valueContact}">
                        </th:block>
                        <div class="row">
                            <div class="col-sm-2 form-group">
                                <label for="typeContact" class="control-label" th:text="#{tipo.contato}"></label>
                                <select class="form-control" th:field="*{contacts[__${sizeContacts}__].typeContact}">
                                    <option value="">Selecione</option>
                                    <option th:text="#{pessoal}" th:value="Pessoal"></option>
                                    <option th:text="#{comercial}" th:value="Comercial"></option>
                                </select>
                            </div>
                            <div class="col-sm-4 form-group">
                                <label th:text="#{nome}"></label>
                                <input type="text" class="form-control" th:field="*{contacts[__${sizeContacts}__].name}"/>
                            </div>
                            <div class="col-sm-2 form-group">
                                <label for="formContact" class="control-label" th:text="#{forma.contato}"></label>
                                <select class="form-control" th:field="*{contacts[__${sizeContacts}__].formContact}">
                                    <option value="">Selecione</option>
                                    <option th:text="#{fixo}" th:value="Fixo"></option>
                                    <option th:text="#{celular}" th:value="Celular"></option>
                                    <option th:text="#{whatsapp}" th:value="Whatsapp"></option>
                                    <option th:text="#{skype}" th:value="Skype"></option>
                                    <option th:text="#{email}" th:value="Email"></option>
                                </select>
                            </div>
                            <div class="col-sm-3 form-group">
                                <label th:text="#{contato}"></label>
                                <input type="text" class="form-control" th:field="*{contacts[__${sizeContacts}__].valueContact}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <button class="btn  btn-primary" type="submit" th:text="#{adicionar}" name="addContact"></button>
                            <a th:href="@{/fornecedor}" class="btn  btn-default" th:text="#{voltar}"></a>
                        </div>
                        <div class="table-responsive pc-tabela-simples">
                            <table class="table table-hover">
                                <thead>
                                <tr>
                                    <th class="table-projetos-col-nome" th:text="#{tipo.contato}"></th>
                                    <th class="table-projetos-col-dataInicio" th:text="#{nome}"></th>
                                    <th class="table-projetos-col-dataInicio" th:text="#{forma.contato}"></th>
                                    <th class="table-projetos-col-dataInicio" th:text="#{contato}"></th>
                                </tr>
                                </thead>

                                <tbody>
                                <tr th:if="${contact.id}" th:each="contact : ${provider.contacts}">
                                    <td th:text="${contact.typeContact}"></td>
                                    <td th:text="${contact.name}"></td>
                                    <td th:text="${contact.formContact}"></td>
                                    <td th:text="${contact.valueContact}"></td>
                                    <td class="text-center">
                                        <!--<a class="btn  btn-link  btn-xs js-tooltip" th:title="#{editar}" th:href="@{/vendedor/{id}(id=${seller.id})}">
                                            <i class="glyphicon glyphicon-pencil"></i>
                                        </a>-->
                                        <button th:value="${contact.id}" name="delContact"
                                                class="btn  btn-link  btn-xs js-tooltip js-exclusao-btn" th:title=#{deletar}>
                                            <i class="glyphicon glyphicon-remove"></i> <span class="icon-name"></span>
                                        </button>
                                    </td>
                                    <!--</tr>
                                    <tr>
                                        <td colspan="4">Nenhum usuário encontrado</td>
                                    </tr>-->
                                </tbody>
                            </table>
                            <!--<div th:replace="layout/fragments/pagination :: pagination"></div>-->
                        </div>


                    </div>
                </div>
            </div>
        </form>
    </div>

</section>
<th:block layout:fragment="javascript-extra">
    <script th:src="@{/javascripts/vendors/bootstrap-toggle.min.js}"></script>
    <script th:src="@{/javascripts/vendors/bootstrap-tabs-x/bootstrap-tabs-x.js}"></script>
</th:block>
</body>
</html>