<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head th:include="~{layout/layout :: header (title='Grupo de UsuÃ¡rios')}">
    <th:block layout:fragment="head-end">
        <link th:href="@{/stylesheets/lou-multi-select/css/multi-select.css}" rel="stylesheet" />
    </th:block>
</head>
<body>

<section layout:fragment="conteudo">

    <div class="page-header">
        <div class="container-fluid">
            <h1 th:if="${groupUser.novo}" th:text="#{titulo.cadastro.grupo.usuarios}"></h1>
            <h1 th:unless="${groupUser.novo}" th:text="#{titulo.editar.grupo.usuarios}"></h1>
        </div>
    </div>
    <div class="container-fluid">
        <form method="post" th:object="${groupUser}" th:action="${groupUser.novo} ? @{/grupoUsuarios/novo} :
								@{/grupoUsuarios/{id}(id=${groupUser.id})}" class="form-vertical  js-form-loading">
            <div th:replace="layout/fragments/message :: messages"></div>
            <input type="hidden" th:field="*{id}" />
            <div class="row form-group">
                <div class="col-sm-6">
                    <label for="name" th:text="#{nome}">Nome</label>
                    <input type="text" class="form-control" th:field="*{name}"/>
                </div>
                <div class="col-sm-6">
                    <label for="description" th:text="#{descricao}"></label>
                    <input type="text" class="form-control" th:field="*{description}"/>
                </div>
            </div>
            <div class="row form-group" th:unless="${groupUser.novo}">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="header">
                        <h2 th:text="#{titulo.selecione.usuario}"></h2>
                        <ul class="header-dropdown m-r--5">
                        </ul>
                    </div>
                    <div id="body">
                        <select multiple="multiple" id="usersMultiSelect" data-page="-1" data-last="false" class="ms usersMultiSelect" th:field="*{listUsers}">
                        <option value='000' th:text="#{buscar.usuarios}"></option>
                        <option th:if="${usersGroup != null}" th:each="user : ${usersGroup}" th:value="${user.id}" th:text="${user.name}"></option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <button class="btn  btn-primary" type="submit" th:text="#{salvar}">Salvar</button>
                <a th:href="@{/grupoUsuarios}" class="btn  btn-default" th:text="#{voltar}">Voltar</a>
            </div>
        </form>
    </div>

</section>
<th:block layout:fragment="javascript-extra">
    <script th:src="@{/javascripts/vendors/bootstrap-toggle.min.js}"></script>
    <script th:src="@{/vendors/lou-multi-select/jquery.multi-select.js}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.quicksearch/2.4.0/jquery.quicksearch.min.js"></script>
    <!--<script th:src="@{/vendors/quick-search/jquery.quicksearch.js}"></script>-->
    <script th:src="@{/group-user/save.js}"></script>
</th:block>
</body>
</html>